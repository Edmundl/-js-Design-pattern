<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>观察者模式模式</title>
    </head>
    <body>
        <script>
            //发布者
			var shop={
				list:[],
				notice:function(){
					for(var i=0,fn;fn=this.list[i++];){
						fn.apply(this,arguments);
					}
				},
				add:function(obj){
					this.list.push(obj.buy);
				}
			};
			//订阅者
			var xiaohong={
				buy:function(color,size){
					console.log('小红:鞋的颜色是：'+color+'写的大小是：'+size);
				}
			};
			var xiaomei={
				buy:function(color,size){
					console.log('小梅:鞋的颜色是：'+color+'写的大小是：'+size);
				}
			};
			
			shop.add(xiaomei);
			shop.add(xiaohong);
			
			shop.notice('red',42);
        </script>
    </body>
</html>